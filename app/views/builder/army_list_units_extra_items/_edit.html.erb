<%

depend = unit_option.parent

while !depend.nil? and depend.value_points.nil? do
  depend = depend.parent
end

disabled = !extra_item.extra_item_activator_id.nil? && !extra_item.extra_item_activator.in?(army_list_unit.extra_items)

%>
<li>
  <em><span><%= value_points(extra_item.value_points) %></span> pts</em>
  <%= content_tag(:label, {:class => ("disable" if disabled)}) do %>
  	<%= check_box_tag "builder_army_list_unit[extra_item_ids][]", extra_item.id, army_list_unit.extra_items.member?(extra_item), :id => "builder_army_list_unit_extra_item_ids_#{extra_item.id}", "data-depend" => depend.try(:id), "data-value-points" => extra_item.value_points, "data-extra-item-activator" => extra_item.extra_item_activator_id, 'data-is-unique' => is_unique, 'disabled' => disabled %>
  	<%= extra_item.name %>
  <% end %>
</li>
